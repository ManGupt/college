<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>pltplp.net - A little manual for Lex and Yacc - Syntaxical analysis with Yacc</title>
    <link rel="stylesheet" href="/styles/main.css" /><link title="Index" href="index.html.en" rel="start" /><link title="Use of Lex in syntaxical analysis" href="lex.html.en" rel="prev" /><link title="An example: a little expression interpreter" href="example.html.en" rel="next" />
  </head>
  
  <body>
    <div id="header">
      <div id="logo"><a href="/" shape="rect"><img src="/img/logo" alt="pltplp.net" height="66" width="283" /></a></div>
      <div id="navh"><a href="/ippl/" shape="rect">ippl</a> | <a href="/bobot++/" shape="rect">bobot++</a> | <a href="/lex-yacc/" shape="rect">Lex &amp; Yacc</a> | <a href="/" shape="rect">Home</a> | <a href="/about/" shape="rect">About</a></div>
    </div>

    <div id="main">
      <div id="navg"><ul><li><a href="grammar.html.en">Grammar</a></li><li><a href="lex.html.en">Lex</a></li><li><a href="yacc.html.en">Yacc</a></li><li><a href="example.html.en">Example</a></li><li><a href="conclusion.html.en">Conclusion</a></li></ul> </div>
      <div id="content"><h1>3. Syntaxical analysis with Yacc</h1><p>Yacc (Yet Another Compiler Compiler) is a program designed
    to compile a <tt>LALR(1)</tt> grammar and to produce
    the source code of the syntaxical analyser of the language
    produced by this grammar. It is also possible to make it do
    semantic actions.</p><p>As for a Lex file, a Yacc file can be divided into three
    parts:</p><table class="code" cellpadding="10">
<tr>
<td>
<pre>declarations
%%
productions
%%
additionnal code</pre>
</td>
</tr>
</table><p>and only the first <tt>%%</tt> and the second
    part are mandatory</p><h2><a class="normal" id="N0x8059d50.0x80742b4">
<a class="normal" id="N101F4">3.1. The first part of a Yacc file</a>
</a></h2><p>The first part of a Yacc file may contain:</p><ul>

        <li>Specifications written in the target language, enclosed
        between <tt>%{</tt> and <tt>%}</tt>
        (each symbol at the begining of a line) that will be put at
        the top of the scanner generated by Yacc.</li>

        <li>Declaration of the tokens that can be encontered, with
        the <tt>%token</tt> keyword.</li>

        <li>The type of the terminal, using the reserved word:
        <tt>%union</tt>
</li>

        <li>Informations about operators' priority or
        associativity.</li>

        <li>The axiom of the grammar, using the reserved word
        <tt>%start</tt> (if not specified, the axiom is
        the first production of the second part of the file).</li>

      </ul><p>The <tt>yylval</tt> variable,
      <i>implicitely</i> declared of the
      <tt>%union</tt> type is really important in the
      file, since it is the variable that contains the description of
      the last token read.</p><h2><a class="normal" id="N0x8059d50.0x80745a0">
<a class="normal" id="N10227">3.2. Second part of a Yacc file</a>
</a></h2><p>This part can not be empty. It may contain:</p><ul>
         <li>ddeclarations and/or definitions enclosed between
         <tt>%{</tt> and <tt>%}</tt>
</li>

        <li>Productions of the language's grammar.</li>
      </ul><p>These productions look like:</p><table class="code" cellpadding="10">
<tr>
<td>
<pre>nonterminal_notion:
                    body_1       { semantical_action_1 }
                  | body_2       { semantical_action_2 }
                  | ...
                  | body_n       { semantical_action_n }
                  ;</pre>
</td>
</tr>
</table><p>provided that the <tt>body_i</tt> may be
      terminal or nonterminal notions of the language.</p><p>And finally...</p><h2><a class="normal" id="N0x8059d50.0x8074808">
<a class="normal" id="N1024B">3.3. Third part of a Yacc file</a>
</a></h2><p>This part contains the additional code, must contain a
      <tt>main()</tt> function (that should call the
      <tt>yyparse()</tt> function), and an
      <tt>yyerror(char *message)</tt> function, that is
      called when a syntax error is found.</p><h2><a class="normal" id="N0x8059d50.0x80748e4">
<a class="normal" id="N1025B">3.4. Conclusion about Yacc</a>
</a></h2><p>This presentation is far from being exhaustive, and I
      didn't explain you everything. We will clarify some points in
      the following example.</p><hr /><div class="navbas">
<div class="navbasleft">
<a href="lex.html.en">Previous:<br />Use of Lex in syntaxical analysis</a>
</div>
<div class="navbascenter">
<a href="index.html.en">Table of contents</a>
</div>
<div class="navbasright">
<a href="example.html.en">
<br />An example: a little expression interpreter</a>
</div>
</div></div>
    </div>

    <hr class="hide" />

    <div id="footer">
      Copyright © 2001-2002 Etienne Bernard (eb at pltplp dot net)
      <a href="/spammer-heaven/" shape="rect"><img src="/img/vide.gif" width="1" height="1" alt="Spambot catcher" /></a><br />
      <a href="http://validator.w3.org/check/referer" shape="rect"><img src="/img/vxhtml10" width="88" height="31" alt="Valid XHTML 1.0!" /></a>
      <a href="http://jigsaw.w3.org/css-validator/" shape="rect"><img src="/img/vcss" width="88" height="31" alt="Valid CSS!" /></a>
    </div>

  </body>

</html>